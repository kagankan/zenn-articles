# 記事の絵文字提案コマンド

指定されたMarkdown記事を読んで、適切な絵文字を提案します。

## 実行手順

1. **記事ファイルを読み込む**: ユーザーがファイルパスを指定していない場合は尋ねる
2. **内容を分析する**:
   - frontmatterから`title:`を抽出
   - 記事本文を読んで主要なトピックとテーマを理解
3. **絵文字を提案する**:
   - 記事内容に合った絵文字を6個以上生成（内部的に準備）
   - **直接的なキーワードマッチ**と**連想的・創造的な提案**の両方を含める
   - 各絵文字について以下を提示：
     - 絵文字そのもの
     - 絵文字の名前・ラベル
     - なぜ適切かの簡単な説明
4. **連想的な提案の例**:
   - 「嬉しい/満足」→ 😊（嬉しそうな顔）
   - 「解決/修正」→ ✅（チェックマーク）
   - 「グリッドレイアウト」→ 🍱（弁当箱 - 区切られた箱）
   - 「セキュリティ」→ 🔒（鍵）or 🛡️（盾）
   - 「パフォーマンス」→ ⚡（稲妻）or 🚀（ロケット）
   - 「初心者向け」→ 🌱（新芽）or 👶（赤ちゃん）
   - 「アーキテクチャ」→ 🏗️（建設中）or 🏛️（建物）
5. **必要に応じてemojipediaで検索**:
   - 特定の絵文字を探す必要がある場合: https://emojipedia.org/en/search?q={検索語}
   - WebFetchツールを使ってemojipediaを検索可能
6. **提案リストを表示する**:
   - **まず、すべての絵文字提案（6個以上）をテキストで一覧表示する**
   - 各絵文字について、絵文字・名前・理由を記載
   - 「以下から選んでください」と案内する
7. **ユーザーに選択させる**:
   - **AskUserQuestionツールで最初の3つを提示**
   - 4つ目の選択肢として「次の選択肢を表示」を追加
   - ユーザーが「次の選択肢を表示」を選んだ場合、次の3つ+「次の選択肢を表示」を提示
   - これを繰り返し、すべての候補を見せ終わったら最初に戻るか、emojipediaでの追加検索を提案
8. **記事を更新する**:
   - ユーザーが選択した後、frontmatterの`emoji:`フィールドを更新
   - 更新完了をユーザーに報告

## 提案時の出力例

**ステップ1: まずすべての提案を一覧表示**

```
記事「TypeScriptの型安全なフォーム実装」を分析しました。
以下、絵文字の提案です：

1. 📝 メモ - フォームと記入を表現
2. 🔒 鍵 - 型安全性とセキュリティを強調
3. ✅ チェックマーク - バリデーションと正確性を示唆
4. 🎯 的 - 精密さと型安全性を表現
5. 🛡️ 盾 - 型安全性による保護
6. 📋 クリップボード - フォームとデータ入力
7. 🏗️ 建設 - 堅牢なフォーム構築
8. 🔐 鍵と鍵穴 - 型による安全な入力制御

以下から選んでください。
```

**ステップ2: AskUserQuestionで選択肢を提示（最初のページ）**

```
選択肢1: 📝 メモ - フォームと記入を表現
選択肢2: 🔒 鍵 - 型安全性とセキュリティを強調
選択肢3: ✅ チェックマーク - バリデーションと正確性を示唆
選択肢4: 次の選択肢を表示
```

**ステップ3: ユーザーが「次の選択肢を表示」を選んだ場合（次のページ）**

```
選択肢1: 🎯 的 - 精密さと型安全性を表現
選択肢2: 🛡️ 盾 - 型安全性による保護
選択肢3: 📋 クリップボード - フォームとデータ入力
選択肢4: 次の選択肢を表示
```

## 重要な注意点

- **創造的に考える**: キーワードを文字通りマッチさせるだけでなく、感情・目的・比喩を考慮
- **読者層を考慮**: 開発者や技術系読者に響く絵文字を選ぶ
- **バリエーション**: 機能的/字義的な提案と創造的/比喩的な提案をミックス
- **文化的配慮**: 絵文字が適切でプロフェッショナルであることを確認
- **記事の雰囲気を反映**: 真面目な記事なら落ち着いた絵文字、楽しい記事なら明るい絵文字を
